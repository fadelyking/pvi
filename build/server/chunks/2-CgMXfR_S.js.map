{"version":3,"file":"2-CgMXfR_S.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/_page.server.ts.js","../../../.svelte-kit/adapter-node/nodes/2.js"],"sourcesContent":["import { d as db, c as clicksTable, a as donorsTable } from \"../../chunks/schema.js\";\nconst actions = {\n  click: async ({ request }) => {\n    const formData = await request.formData();\n    const iso = formData.get(\"iso\");\n    if (String(iso).length !== 2 || !iso) {\n      return { status: 400, body: \"Invalid ISO\" };\n    }\n    try {\n      await db.insert(clicksTable).values({\n        country: iso.toString(),\n        created_at: /* @__PURE__ */ new Date()\n      });\n      return { success: true, message: \"Click added\" };\n    } catch (error) {\n      console.error(\"Database insert error: \", error);\n      return { success: false, error: \"Failed to insert data\" };\n    }\n  },\n  donate: async ({ request }) => {\n    const formData = await request.formData();\n    const displayName = formData.get(\"display-name\");\n    const email = formData.get(\"email\");\n    const phoneNumber = formData.get(\"mobile-phone\");\n    const amount = parseFloat(formData.get(\"amount\"));\n    const country = formData.get(\"country\");\n    const message = formData.get(\"message\");\n    const receiveUpdates = formData.has(\"receive-update\");\n    const anonymous = formData.has(\"anonymous\");\n    try {\n      await db.insert(donorsTable).values({\n        name: displayName,\n        email,\n        phone_number: phoneNumber,\n        amount,\n        message,\n        country,\n        receive_updates: receiveUpdates,\n        anonymous\n      });\n      console.log(\"Donation record inserted successfully.\");\n      return {\n        success: true,\n        message: \"Donation submitted successfully.\"\n      };\n    } catch (error) {\n      console.error(\"Database insert error: \", error);\n      return { success: false, error: \"Failed to insert donation data\" };\n    }\n  }\n};\nexport {\n  actions\n};\n","import * as server from '../entries/pages/_page.server.ts.js';\n\nexport const index = 2;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/+page.server.ts\";\nexport const imports = [\"_app/immutable/nodes/2.BSxbSDnP.js\",\"_app/immutable/chunks/scheduler.B9Ig1-Ls.js\",\"_app/immutable/chunks/index.CCL0Cr32.js\",\"_app/immutable/chunks/ISOToName.C_PzhHOZ.js\",\"_app/immutable/chunks/entry.C9UphgoM.js\"];\nexport const stylesheets = [\"_app/immutable/assets/2.CG4tPKew.css\",\"_app/immutable/assets/ISOToName.Btoc6Gi4.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}